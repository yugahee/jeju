<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<!-- 전체 조회 -->
<entry key="searchMember">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
   ORDER BY ENROLL_DATE DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<!-- 전체 > 아이디 조회 -->
<entry key="searchMemberAllId">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_ID LIKE '%'|| ? ||'%'
   ORDER BY ENROLL_DATE DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<!-- 전체 > 이름 조회 -->
<entry key="searchMemberAllName">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_NAME LIKE '%'|| ? ||'%'
   ORDER BY ENROLL_DATE DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<!-- 호스트/게스트 > 아이디 조회 -->
<entry key="searchMemberId">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_TYPE = ?
     AND USER_ID LIKE '%'|| ? ||'%'
   ORDER BY ENROLL_DATE DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<!-- 호스트/게스트 > 이름 조회 -->
<entry key="searchMemberName">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_TYPE = ?
     AND USER_NAME LIKE '%'|| ? ||'%'
   ORDER BY ENROLL_DATE DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>

<!-- 리스트 갯수 가져오기 -->
<entry key="searchMemberDetail">
	SELECT
		   *
	  FROM MEMBER
	 WHERE USER_TYPE != '관리자'
	   AND USER_ID = ?
	 ORDER BY ENROLL_DATE DESC
</entry>

<entry key="getUserListCount">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
	 ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getListCountAllId">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
        AND USER_ID LIKE '%'|| ? ||'%'
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getListCountAllName">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
        AND USER_NAME LIKE '%'|| ? ||'%'
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getListCountMemberId">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
    	AND USER_TYPE = ?
        AND USER_ID LIKE '%'|| ? ||'%'
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getListCountMemberName">
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
    	AND USER_TYPE = ?
        AND USER_NAME LIKE '%'|| ? ||'%'
	  ORDER BY ENROLL_DATE DESC
</entry>


<!-- 어드민 회원 상태 수정 -->
<entry key="updateMemberStatus">
	UPDATE MEMBER
	SET STATUS = ?
   WHERE USER_ID = ?
</entry>
<!-- 어드민 회원 삭제 -->
<entry key="deleteMemberStatus">
	DELETE MEMBER
   WHERE USER_ID = ?
</entry>



<!-- 블랙리스트 -->
<entry key="searchBlack">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND REPORT_COUNT >= 5
   ORDER BY REPORT_COUNT DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchBlackAllId">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_ID LIKE '%'|| ? ||'%'
     AND REPORT_COUNT >= 5
   ORDER BY REPORT_COUNT DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchBlackAllName">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_NAME LIKE '%'|| ? ||'%'
     AND REPORT_COUNT >= 5
   ORDER BY REPORT_COUNT DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchBlackId">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_TYPE = ?
     AND USER_ID LIKE '%'|| ? ||'%'
     AND REPORT_COUNT >= 5
   ORDER BY REPORT_COUNT DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchBlackName">
	SELECT *
	FROM(SELECT ROWNUM RNUM, A.*
	  FROM(SELECT
                 *
    FROM MEMBER
   WHERE USER_TYPE != '관리자'
     AND USER_TYPE = ?
     AND USER_NAME LIKE '%'|| ? ||'%'
     AND REPORT_COUNT >= 5
   ORDER BY REPORT_COUNT DESC) A)
WHERE RNUM BETWEEN ? AND ?
</entry>

<entry key="getBlackListCount">
	SELECT
		   *
	  FROM MEMBER
	 WHERE USER_TYPE != '관리자'
	   AND USER_ID = ?
       AND REPORT_COUNT >= 5
	 ORDER BY ENROLL_DATE DESC
</entry>

<entry key="getBlackListCount">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
        AND REPORT_COUNT >= 5
	 ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getBlackListCountAllId">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
        AND USER_ID LIKE '%'|| ? ||'%'
        AND REPORT_COUNT >= 5
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getBlackListCountAllName">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
        AND USER_NAME LIKE '%'|| ? ||'%'
        AND REPORT_COUNT >= 5
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getBlackListCountMemberId">	
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
    	AND USER_TYPE = ?
        AND USER_ID LIKE '%'|| ? ||'%'
        AND REPORT_COUNT >= 5
	  ORDER BY ENROLL_DATE DESC
</entry>
<entry key="getBlackListCountMemberName">
     SELECT
            COUNT(*)
       FROM MEMBER
      WHERE USER_TYPE != '관리자'
    	AND USER_TYPE = ?
        AND USER_NAME LIKE '%'|| ? ||'%'
        AND REPORT_COUNT >= 5
	  ORDER BY ENROLL_DATE DESC
</entry>

<entry key="searchRoom">
	SELECT * FROM
	(SELECT ROWNUM RNUM, A.*
	 FROM(SELECT
		    ROOM_NO,
	        S.USER_ID,
	        ROOM_NAME,
		    ROUND(AVG(STAR),1) STAR,
	        CREATE_DATE,
	        ENROLL_DATE,
	        ENROLL_STATUS,
	        STATUS
		FROM ROOMS_REVIEW R
	    RIGHT OUTER JOIN ROOMS S USING(ROOM_NO)
		GROUP BY ROOM_NO, S.USER_ID, ROOM_NAME, CREATE_DATE, ENROLL_DATE, ENROLL_STATUS, STATUS
		ORDER BY ROOM_NO DESC) A)
	WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchRoomStatusAll">
	SELECT * FROM
	(SELECT ROWNUM RNUM, A.*
	 FROM(SELECT
		    ROOM_NO,
	        S.USER_ID,
	        ROOM_NAME,
		    ROUND(AVG(STAR),1) STAR,
	        CREATE_DATE,
	        ENROLL_DATE,
	        ENROLL_STATUS,
	        STATUS
		FROM ROOMS_REVIEW R
	    RIGHT OUTER JOIN ROOMS S USING(ROOM_NO)
	    WHERE S.USER_ID LIKE '%'|| ? ||'%'
		GROUP BY ROOM_NO, S.USER_ID, ROOM_NAME, CREATE_DATE, ENROLL_DATE, ENROLL_STATUS, STATUS
		ORDER BY ROOM_NO DESC) A)
	WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="searchRoomStatus">
	SELECT * FROM
	(SELECT ROWNUM RNUM, A.*
	 FROM(SELECT
		    ROOM_NO,
	        S.USER_ID,
	        ROOM_NAME,
		    ROUND(AVG(STAR),1) STAR,
	        CREATE_DATE,
	        ENROLL_DATE,
	        ENROLL_STATUS,
	        STATUS
		FROM ROOMS_REVIEW R
	    RIGHT OUTER JOIN ROOMS S USING(ROOM_NO)
	    WHERE ENROLL_STATUS = ?
	      AND S.USER_ID LIKE '%'|| ? ||'%'
		GROUP BY ROOM_NO, S.USER_ID, ROOM_NAME, CREATE_DATE, ENROLL_DATE, ENROLL_STATUS, STATUS
		ORDER BY ROOM_NO DESC) A)
	WHERE RNUM BETWEEN ? AND ?
</entry>
<entry key="getRoomListCount">
     SELECT
            COUNT(*)
       FROM ROOMS
   ORDER BY ROOM_NO
</entry>
<entry key="getRoomListCountStatusAll">
     SELECT
            COUNT(*)
       FROM ROOMS
	  WHERE USER_ID LIKE '%'|| ? ||'%'
   ORDER BY ROOM_NO
</entry>
<entry key="getRoomListCountStatus">
     SELECT
            COUNT(*)
       FROM ROOMS
	  WHERE ENROLL_STATUS = ?
	    AND USER_ID LIKE '%'|| ? ||'%'
   ORDER BY ROOM_NO
</entry>
<entry key="searchRoomDetail">
	SELECT
		   *
	  FROM ROOMS
	 WHERE ROOM_NO = ?
</entry>

<entry key="updateRoomStatus">
	UPDATE ROOMS
	SET ENROLL_STATUS = ?,
		ENROLL_DATE = SYSDATE,
		RETURN_REASON = NULL
   WHERE ROOM_NO = ?
</entry>
<entry key="updateRoomDefault">
	UPDATE ROOMS
	SET ENROLL_STATUS = ?,
		ENROLL_DATE = NULL
   WHERE ROOM_NO = ?
</entry>
<entry key="updateRoomDefaultMsg">
	UPDATE ROOMS
	SET ENROLL_STATUS = ?,
		ENROLL_DATE = NULL,
		RETURN_REASON = ?
   WHERE ROOM_NO = ?
</entry>

<entry key="updateAdminNP">
	UPDATE MEMBER
	SET
		USER_NAME = ?,
		PHONE = ?
	WHERE USER_TYPE = '관리자'
</entry>
<entry key="updateAdminAll">
	UPDATE MEMBER
	SET
		USER_NAME = ?,
		PHONE = ?,
		EMAIL = ?,
		USER_PWD =?	
	WHERE USER_TYPE = '관리자'
</entry>
<entry key="updateAdminMail">
	UPDATE MEMBER
	SET
		USER_NAME = ?,
		PHONE = ?,
		EMAIL = ?		
	WHERE USER_TYPE = '관리자'
</entry>
<entry key="updateAdminPwd">
	UPDATE MEMBER
	SET
		USER_NAME = ?,
		PHONE = ?,
		USER_PWD =?	
	WHERE USER_TYPE = '관리자'
</entry>


<entry key="getRecListCount">
     SELECT
            COUNT(*)
       FROM RECOMMENDATION
   ORDER BY RECO_NO
</entry>
<entry key="getRecListCountStatusName">
     SELECT
            COUNT(*)
       FROM RECOMMENDATION
	  WHERE RECO_CATEGORY = ?
	    AND RECO_NAME LIKE '%'|| ? ||'%'
   ORDER BY RECO_NO
</entry>
<entry key="getRecListCountStatusKW">
     SELECT
            COUNT(*)
       FROM RECOMMENDATION
	  WHERE RECO_CATEGORY = ?
	    AND RECO_KEYWORD LIKE '%'|| ? ||'%'
   ORDER BY RECO_NO
</entry>
<entry key="reserveCount">
	SELECT
    	COUNT(*)
	FROM RESERVATION
</entry>
<entry key="reserveList">
	SELECT 
    	*
	FROM(
	    SELECT 
	        ROWNUM RNUM
	        , A.*
	    FROM (
	        SELECT
	            ROOM_RESERVE
	            , ROOM_NAME
	            , USER_ID
	            , RESERVE_STATE
	            , RESERVE_NUM
	            , GUEST
	            , PONE
	            , P.PRICE
	            , PAY_DATE
	        FROM RESERVATION S
	        JOIN ROOMS R USING(ROOM_NO)
	        LEFT JOIN PAYMENT P ON(RECEP_NO = ROOM_RESERVE)
	    ) A
	)
	WHERE RNUM BETWEEN ? AND ?
</entry>
</properties>